<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Plugin - soundworks</title>
    
    <meta name="description" content="Documentation of soundworks, a full-stack JavaScript framework for distributed WebAudio and multimedia applications" />
    
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    
    <h2><a href="index.html">Home</a></h2><h2><a href="http://soundworks.dev/" target="_blank" class="menu-item" >Website</a></h2><h2><a href="https://github.com/collective-soundworks/soundworks" target="_blank" class="menu-item" >Github</a></h2><h3>Namespaces</h3><ul><li><a href="client.html">client</a></li><li><a href="server.html">server</a></li></ul><h3>Classes</h3><ul><li><a href="client.Client.html">client.Client</a><ul class='methods'><li data-type='method'><a href="client.Client.html#getAuditState">getAuditState</a></li><li data-type='method'><a href="client.Client.html#init">init</a></li><li data-type='method'><a href="client.Client.html#onStatusChange">onStatusChange</a></li><li data-type='method'><a href="client.Client.html#start">start</a></li><li data-type='method'><a href="client.Client.html#stop">stop</a></li></ul></li><li><a href="client.Context.html">client.Context</a><ul class='methods'><li data-type='method'><a href="client.Context.html#enter">enter</a></li><li data-type='method'><a href="client.Context.html#exit">exit</a></li><li data-type='method'><a href="client.Context.html#start">start</a></li><li data-type='method'><a href="client.Context.html#stop">stop</a></li></ul></li><li><a href="client.ContextManager.html">client.ContextManager</a><ul class='methods'><li data-type='method'><a href="client.ContextManager.html#get">get</a></li></ul></li><li><a href="client.Plugin.html">client.Plugin</a><ul class='methods'><li data-type='method'><a href="client.Plugin.html#onStateChange">onStateChange</a></li><li data-type='method'><a href="client.Plugin.html#propagateStateChange">propagateStateChange</a></li><li data-type='method'><a href="client.Plugin.html#start">start</a></li><li data-type='method'><a href="client.Plugin.html#stop">stop</a></li></ul></li><li><a href="client.PluginManager.html">client.PluginManager</a><ul class='methods'><li data-type='method'><a href="client.PluginManager.html#addDependency">addDependency</a></li><li data-type='method'><a href="client.PluginManager.html#getRegisteredPlugins">getRegisteredPlugins</a></li><li data-type='method'><a href="client.PluginManager.html#onStateChange">onStateChange</a></li><li data-type='method'><a href="client.PluginManager.html#register">register</a></li></ul></li><li><a href="client.SharedState.html">client.SharedState</a><ul class='methods'><li data-type='method'><a href="client.SharedState.html#delete">delete</a></li><li data-type='method'><a href="client.SharedState.html#detach">detach</a></li><li data-type='method'><a href="client.SharedState.html#get">get</a></li><li data-type='method'><a href="client.SharedState.html#getDefaults">getDefaults</a></li><li data-type='method'><a href="client.SharedState.html#getInitValues">getInitValues</a></li><li data-type='method'><a href="client.SharedState.html#getSchema">getSchema</a></li><li data-type='method'><a href="client.SharedState.html#getUnsafe">getUnsafe</a></li><li data-type='method'><a href="client.SharedState.html#getValues">getValues</a></li><li data-type='method'><a href="client.SharedState.html#getValuesUnsafe">getValuesUnsafe</a></li><li data-type='method'><a href="client.SharedState.html#onDelete">onDelete</a></li><li data-type='method'><a href="client.SharedState.html#onDetach">onDetach</a></li><li data-type='method'><a href="client.SharedState.html#onUpdate">onUpdate</a></li><li data-type='method'><a href="client.SharedState.html#set">set</a></li></ul></li><li><a href="client.SharedStateCollection.html">client.SharedStateCollection</a><ul class='methods'><li data-type='method'><a href="client.SharedStateCollection.html#detach">detach</a></li><li data-type='method'><a href="client.SharedStateCollection.html#filter">filter</a></li><li data-type='method'><a href="client.SharedStateCollection.html#find">find</a></li><li data-type='method'><a href="client.SharedStateCollection.html#forEach">forEach</a></li><li data-type='method'><a href="client.SharedStateCollection.html#get">get</a></li><li data-type='method'><a href="client.SharedStateCollection.html#getValues">getValues</a></li><li data-type='method'><a href="client.SharedStateCollection.html#map">map</a></li><li data-type='method'><a href="client.SharedStateCollection.html#onAttach">onAttach</a></li><li data-type='method'><a href="client.SharedStateCollection.html#onDetach">onDetach</a></li><li data-type='method'><a href="client.SharedStateCollection.html#onUpdate">onUpdate</a></li><li data-type='method'><a href="client.SharedStateCollection.html#set">set</a></li><li data-type='method'><a href="client.SharedStateCollection.html#sort">sort</a></li></ul></li><li><a href="client.Socket.html">client.Socket</a><ul class='methods'><li data-type='method'><a href="client.Socket.html#addBinaryListener">addBinaryListener</a></li><li data-type='method'><a href="client.Socket.html#addListener">addListener</a></li><li data-type='method'><a href="client.Socket.html#removeAllBinaryListeners">removeAllBinaryListeners</a></li><li data-type='method'><a href="client.Socket.html#removeAllListeners">removeAllListeners</a></li><li data-type='method'><a href="client.Socket.html#removeBinaryListener">removeBinaryListener</a></li><li data-type='method'><a href="client.Socket.html#removeListener">removeListener</a></li><li data-type='method'><a href="client.Socket.html#send">send</a></li><li data-type='method'><a href="client.Socket.html#sendBinary">sendBinary</a></li></ul></li><li><a href="client.StateManager.html">client.StateManager</a><ul class='methods'><li data-type='method'><a href="client.StateManager.html#attach">attach</a></li><li data-type='method'><a href="client.StateManager.html#create">create</a></li><li data-type='method'><a href="client.StateManager.html#getCollection">getCollection</a></li><li data-type='method'><a href="client.StateManager.html#observe">observe</a></li></ul></li><li><a href="server.Client.html">server.Client</a></li><li><a href="server.Context.html">server.Context</a><ul class='methods'><li data-type='method'><a href="server.Context.html#enter">enter</a></li><li data-type='method'><a href="server.Context.html#exit">exit</a></li><li data-type='method'><a href="server.Context.html#start">start</a></li><li data-type='method'><a href="server.Context.html#stop">stop</a></li></ul></li><li><a href="server.ContextManager.html">server.ContextManager</a><ul class='methods'><li data-type='method'><a href="server.ContextManager.html#get">get</a></li></ul></li><li><a href="server.Plugin.html">server.Plugin</a><ul class='methods'><li data-type='method'><a href="server.Plugin.html#addClient">addClient</a></li><li data-type='method'><a href="server.Plugin.html#onStateChange">onStateChange</a></li><li data-type='method'><a href="server.Plugin.html#propagateStateChange">propagateStateChange</a></li><li data-type='method'><a href="server.Plugin.html#removeClient">removeClient</a></li><li data-type='method'><a href="server.Plugin.html#start">start</a></li><li data-type='method'><a href="server.Plugin.html#stop">stop</a></li></ul></li><li><a href="server.PluginManager.html">server.PluginManager</a><ul class='methods'><li data-type='method'><a href="server.PluginManager.html#addDependency">addDependency</a></li><li data-type='method'><a href="server.PluginManager.html#checkRegisteredPlugins">checkRegisteredPlugins</a></li><li data-type='method'><a href="server.PluginManager.html#getRegisteredPlugins">getRegisteredPlugins</a></li><li data-type='method'><a href="server.PluginManager.html#onStateChange">onStateChange</a></li><li data-type='method'><a href="server.PluginManager.html#register">register</a></li></ul></li><li><a href="server.Server.html">server.Server</a><ul class='methods'><li data-type='method'><a href="server.Server.html#getAuditState">getAuditState</a></li><li data-type='method'><a href="server.Server.html#init">init</a></li><li data-type='method'><a href="server.Server.html#isTrustedClient">isTrustedClient</a></li><li data-type='method'><a href="server.Server.html#isTrustedToken">isTrustedToken</a></li><li data-type='method'><a href="server.Server.html#setCustomApplicationTemplateOptions">setCustomApplicationTemplateOptions</a></li><li data-type='method'><a href="server.Server.html#start">start</a></li><li data-type='method'><a href="server.Server.html#stop">stop</a></li><li data-type='method'><a href="server.Server.html#useDefaultApplicationTemplate">useDefaultApplicationTemplate</a></li></ul></li><li><a href="server.SharedState.html">server.SharedState</a><ul class='methods'><li data-type='method'><a href="server.SharedState.html#delete">delete</a></li><li data-type='method'><a href="server.SharedState.html#detach">detach</a></li><li data-type='method'><a href="server.SharedState.html#get">get</a></li><li data-type='method'><a href="server.SharedState.html#getDefaults">getDefaults</a></li><li data-type='method'><a href="server.SharedState.html#getInitValues">getInitValues</a></li><li data-type='method'><a href="server.SharedState.html#getSchema">getSchema</a></li><li data-type='method'><a href="server.SharedState.html#getUnsafe">getUnsafe</a></li><li data-type='method'><a href="server.SharedState.html#getValues">getValues</a></li><li data-type='method'><a href="server.SharedState.html#getValuesUnsafe">getValuesUnsafe</a></li><li data-type='method'><a href="server.SharedState.html#onDelete">onDelete</a></li><li data-type='method'><a href="server.SharedState.html#onDetach">onDetach</a></li><li data-type='method'><a href="server.SharedState.html#onUpdate">onUpdate</a></li><li data-type='method'><a href="server.SharedState.html#set">set</a></li></ul></li><li><a href="server.SharedStateCollection.html">server.SharedStateCollection</a><ul class='methods'><li data-type='method'><a href="server.SharedStateCollection.html#detach">detach</a></li><li data-type='method'><a href="server.SharedStateCollection.html#filter">filter</a></li><li data-type='method'><a href="server.SharedStateCollection.html#find">find</a></li><li data-type='method'><a href="server.SharedStateCollection.html#forEach">forEach</a></li><li data-type='method'><a href="server.SharedStateCollection.html#get">get</a></li><li data-type='method'><a href="server.SharedStateCollection.html#getValues">getValues</a></li><li data-type='method'><a href="server.SharedStateCollection.html#map">map</a></li><li data-type='method'><a href="server.SharedStateCollection.html#onAttach">onAttach</a></li><li data-type='method'><a href="server.SharedStateCollection.html#onDetach">onDetach</a></li><li data-type='method'><a href="server.SharedStateCollection.html#onUpdate">onUpdate</a></li><li data-type='method'><a href="server.SharedStateCollection.html#set">set</a></li><li data-type='method'><a href="server.SharedStateCollection.html#sort">sort</a></li></ul></li><li><a href="server.Socket.html">server.Socket</a><ul class='methods'><li data-type='method'><a href="server.Socket.html#addBinaryListener">addBinaryListener</a></li><li data-type='method'><a href="server.Socket.html#addListener">addListener</a></li><li data-type='method'><a href="server.Socket.html#addToRoom">addToRoom</a></li><li data-type='method'><a href="server.Socket.html#removeAllBinaryListeners">removeAllBinaryListeners</a></li><li data-type='method'><a href="server.Socket.html#removeAllListeners">removeAllListeners</a></li><li data-type='method'><a href="server.Socket.html#removeBinaryListener">removeBinaryListener</a></li><li data-type='method'><a href="server.Socket.html#removeFromRoom">removeFromRoom</a></li><li data-type='method'><a href="server.Socket.html#removeListener">removeListener</a></li><li data-type='method'><a href="server.Socket.html#send">send</a></li><li data-type='method'><a href="server.Socket.html#sendBinary">sendBinary</a></li></ul></li><li><a href="server.Sockets.html">server.Sockets</a><ul class='methods'><li data-type='method'><a href="server.Sockets.html#addToRoom">addToRoom</a></li><li data-type='method'><a href="server.Sockets.html#broadcast">broadcast</a></li><li data-type='method'><a href="server.Sockets.html#broadcastBinary">broadcastBinary</a></li><li data-type='method'><a href="server.Sockets.html#removeFromRoom">removeFromRoom</a></li></ul></li><li><a href="server.StateManager.html">server.StateManager</a><ul class='methods'><li data-type='method'><a href="server.StateManager.html#attach">attach</a></li><li data-type='method'><a href="server.StateManager.html#create">create</a></li><li data-type='method'><a href="server.StateManager.html#deleteSchema">deleteSchema</a></li><li data-type='method'><a href="server.StateManager.html#getCollection">getCollection</a></li><li data-type='method'><a href="server.StateManager.html#observe">observe</a></li><li data-type='method'><a href="server.StateManager.html#registerSchema">registerSchema</a></li><li data-type='method'><a href="server.StateManager.html#registerUpdateHook">registerUpdateHook</a></li></ul></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">Plugin</h1>
    

    




<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="client.html">client</a>.</span>
        
        
            Plugin
        
        </h2>
        
            <div class="class-description usertext"><p>Base class to extend in order to create the client-side counterpart of a
<code>soundworks</code> plugin.</p>
<p>In the <code>soundworks</code> paradigm, a plugin is a component that allows to extend
the framework capabilities by encapsulating common and reusable logic in
an application wise perspective. For example, plugins are available to handle
clock synchronization, to deal with the file system, etc. Plugin should always
have both a client-side and a server-side part.</p>
<p>See <a href="https://soundworks.dev/guide/ecosystem">https://soundworks.dev/guide/ecosystem</a>
for more informations on the available plugins.</p>
<p><em>Creating new plugins should be considered an advanced usage.</em></p></div>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="Plugin"><span class="type-signature"></span>new Plugin<span class="signature">(client, id)</span><span class="type-signature"></span></h4>

    




<dl class="details">
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="client_Plugin.js.html">client/Plugin.js</a>, <a href="client_Plugin.js.html#line35">line 35</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>client</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="client.Client.html">client.Client</a></span>



            
            </td>

            

            

            <td class="description last"><p>The soundworks client instance.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>User defined id of the plugin as defined in
<a href="client.PluginManager.html#register">client.PluginManager#register</a>.</p></td>
        </tr>

    
    </tbody>
</table>



















        
        </div>
    

    
        <h3 class="subsection-title">Extends</h3>

        


    <ul>
        <li><a href="BasePlugin.html">BasePlugin</a></li>
    </ul>


    

    

    
    
    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="client"><span class="type-signature"></span>client<span class="type-signature"> :<a href="client.Client.html">client.Client</a></span></h4>





<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Instance of soundworks client.</p></li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="client_Plugin.js.html">client/Plugin.js</a>, <a href="client_Plugin.js.html#line50">line 50</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="client.Client.html">client.Client</a></li>
        </ul>
    </dd>
    

    
</dl>





<div class="description usertext">
    <p>Instance of soundworks client.</p>
</div>



    <h5 class="h5-types">Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><a href="client.Client.html">client.Client</a></span>



        </li>
    </ul>






        
            
<h4 class="name" id="id"><span class="type-signature type-signature-readonly">(readonly) </span>id<span class="type-signature"> :string</span></h4>





<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>User defined ID of the plugin.</p></li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="common_BasePlugin.js.html">common/BasePlugin.js</a>, <a href="common_BasePlugin.js.html#line53">line 53</a>
    </li></ul></dd>
    

    

    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="BasePlugin.html#id">BasePlugin#id</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="client.PluginManager.html#register">client.PluginManager#register</a></li>
        
            <li><a href="server.PluginManager.html#register">server.PluginManager#register</a></li>
        </ul>
    </dd>
    

    
</dl>





<div class="description usertext">
    <p>User defined ID of the plugin.</p>
</div>



    <h5 class="h5-types">Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>



        </li>
    </ul>






        
            
<h4 class="name" id="options"><span class="type-signature"></span>options<span class="type-signature"> :object</span></h4>





<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Options of the plugin.</p></li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="common_BasePlugin.js.html">common/BasePlugin.js</a>, <a href="common_BasePlugin.js.html#line18">line 18</a>
    </li></ul></dd>
    

    

    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="BasePlugin.html#options">BasePlugin#options</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Options of the plugin.</p>
</div>



    <h5 class="h5-types">Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>



        </li>
    </ul>






        
            
<h4 class="name" id="state"><span class="type-signature type-signature-protected">(protected) </span>state<span class="type-signature"> :object</span></h4>





<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Placeholder that stores internal (local) state of the plugin. The state
should be modified through the <code>propagateStateChange</code> method to ensure
the change to be properly propagated to <code>onStateChange</code> callbacks.</p></li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="common_BasePlugin.js.html">common/BasePlugin.js</a>, <a href="common_BasePlugin.js.html#line32">line 32</a>
    </li></ul></dd>
    

    

    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="BasePlugin.html#state">BasePlugin#state</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="client.Plugin.html#onStateChange">client.Plugin#onStateChange</a></li>
        
            <li><a href="server.Plugin.html#onStateChange">server.Plugin#onStateChange</a></li>
        
            <li><a href="client.Plugin.html#propagateStateChange">client.Plugin#propagateStateChange</a></li>
        
            <li><a href="server.Plugin.html#propagateStateChange">server.Plugin#propagateStateChange</a></li>
        </ul>
    </dd>
    

    
</dl>





<div class="description usertext">
    <p>Placeholder that stores internal (local) state of the plugin. The state
should be modified through the <code>propagateStateChange</code> method to ensure
the change to be properly propagated to <code>onStateChange</code> callbacks.</p>
</div>



    <h5 class="h5-types">Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>



        </li>
    </ul>






        
            
<h4 class="name" id="status"><span class="type-signature"></span>status<span class="type-signature"> :string</span></h4>





<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Current status of the plugin, i.e. 'idle', 'inited', 'started', 'errored'</p></li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="common_BasePlugin.js.html">common/BasePlugin.js</a>, <a href="common_BasePlugin.js.html#line39">line 39</a>
    </li></ul></dd>
    

    

    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="BasePlugin.html#status">BasePlugin#status</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Current status of the plugin, i.e. 'idle', 'inited', 'started', 'errored'</p>
</div>



    <h5 class="h5-types">Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>



        </li>
    </ul>






        
            
<h4 class="name" id="type"><span class="type-signature type-signature-readonly">(readonly) </span>type<span class="type-signature"> :string</span></h4>





<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Type of the plugin, i.e. the ClassName.</p>
<p>Usefull to do perform some logic based on certain types of plugins without
knowing under which <code>id</code> they have been registered. (e.g. creating some generic
views, etc.)</p></li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="common_BasePlugin.js.html">common/BasePlugin.js</a>, <a href="common_BasePlugin.js.html#line67">line 67</a>
    </li></ul></dd>
    

    

    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="BasePlugin.html#type">BasePlugin#type</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Type of the plugin, i.e. the ClassName.</p>
<p>Usefull to do perform some logic based on certain types of plugins without
knowing under which <code>id</code> they have been registered. (e.g. creating some generic
views, etc.)</p>
</div>



    <h5 class="h5-types">Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>



        </li>
    </ul>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="onStateChange"><span class="type-signature"></span>onStateChange<span class="signature">(callback)</span><span class="type-signature"> &rarr; {<a href="client.Plugin.html#~deleteOnStateChangeCallback">client.Plugin~deleteOnStateChangeCallback</a>|<a href="server.Plugin.html#~deleteOnStateChangeCallback">server.Plugin~deleteOnStateChangeCallback</a>}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Listen to the state changes propagated by BasePlugin.propagateStateChange</p></li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="common_BasePlugin.js.html">common/BasePlugin.js</a>, <a href="common_BasePlugin.js.html#line151">line 151</a>
    </li></ul></dd>
    

    

    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="BasePlugin.html#onStateChange">BasePlugin#onStateChange</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="client.Plugin.html#propagateStateChange">client.Plugin#propagateStateChange</a></li>
        
            <li><a href="server.Plugin.html#propagateStateChange">server.Plugin#propagateStateChange</a></li>
        </ul>
    </dd>
    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const unsubscribe = plugin.onStateChange(pluginState => console.log(pluginState));
// stop listening state changes
unsubscribe();</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="client.Plugin.html#~onStateChangeCallback">client.Plugin~onStateChangeCallback</a></span>
|

<span class="param-type"><a href="server.Plugin.html#~onStateChangeCallback">server.Plugin~onStateChangeCallback</a></span>



            
            </td>

            

            

            <td class="description last"><p>Callback to execute when a state change is propagated.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Execute the function to delete the listener from the callback list.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="client.Plugin.html#~deleteOnStateChangeCallback">client.Plugin~deleteOnStateChangeCallback</a></span>
|

<span class="param-type"><a href="server.Plugin.html#~deleteOnStateChangeCallback">server.Plugin~deleteOnStateChangeCallback</a></span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="propagateStateChange"><span class="type-signature"></span>propagateStateChange<span class="signature">(updates)</span><span class="type-signature"></span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Apply updates to the plugin state and propagate the updated state to the
<code>onStateChange</code> listeners. The state changes will also be propagated
through the <code>PluginManager#onStateChange</code> listeners.</p></li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="common_BasePlugin.js.html">common/BasePlugin.js</a>, <a href="common_BasePlugin.js.html#line167">line 167</a>
    </li></ul></dd>
    

    

    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="BasePlugin.html#propagateStateChange">BasePlugin#propagateStateChange</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="client.Plugin.html#onStateChange">client.Plugin#onStateChange</a></li>
        
            <li><a href="server.Plugin.html#onStateChange">server.Plugin#onStateChange</a></li>
        
            <li><a href="client.PluginManager.html#onStateChange">client.PluginManager#onStateChange</a></li>
        
            <li><a href="server.PluginManager.html#onStateChange">server.PluginManager#onStateChange</a></li>
        </ul>
    </dd>
    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>updates</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>



            
            </td>

            

            

            <td class="description last"><p>Updates to be merged in the plugin state.</p></td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id="start"><span class="type-signature type-signature-async">(async) </span>start<span class="signature">()</span><span class="type-signature"></span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Start the plugin. This method is automatically called during the client or
server <code>init()</code> lifecyle step. After <code>start()</code> is fulfilled the plugin should
be ready to use.</p></li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="common_BasePlugin.js.html">common/BasePlugin.js</a>, <a href="common_BasePlugin.js.html#line102">line 102</a>
    </li></ul></dd>
    

    

    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="BasePlugin.html#start">BasePlugin#start</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>// server-side couterpart of a plugin that creates a dedicated global shared
// state on which the server-side part can attach.
class MyPlugin extends Plugin {
  constructor(server, id) {
    super(server, id);

    this.server.stateManager.registerSchema(`my-plugin:${this.id}`, {
      someParam: {
        type: 'boolean',
        default: false,
      },
      // ...
    });
  }

  async start() {
    await super.start()
    this.sharedState = await this.server.stateManager.create(`my-plugin:${this.id}`);
  }

  async stop() {
    await this.sharedState.delete();
  }
}</code></pre>





















        
            

    

    <h4 class="name" id="stop"><span class="type-signature type-signature-async">(async) </span>stop<span class="signature">()</span><span class="type-signature"></span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Stop the plugin. This method is automatically called during the client or server
<code>stop()</code> lifecyle step.</p></li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="common_BasePlugin.js.html">common/BasePlugin.js</a>, <a href="common_BasePlugin.js.html#line135">line 135</a>
    </li></ul></dd>
    

    

    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="BasePlugin.html#stop">BasePlugin#stop</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>// server-side couterpart of a plugin that creates a dedicated global shared
// state on which the server-side part can attach.
class MyPlugin extends Plugin {
  constructor(server, id) {
    super(server, id);

    this.server.stateManager.registerSchema(`my-plugin:${this.id}`, {
      someParam: {
        type: 'boolean',
        default: false,
      },
      // ...
    });
  }

  async start() {
    await super.start()
    this.sharedState = await this.server.stateManager.create(`my-plugin:${this.id}`);
    this.sharedState.onUpdate(updates => this.doSomething(updates));
  }

  async stop() {
    await this.sharedState.delete();
  }
}</code></pre>





















        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                

    

    <h4 class="name" id="~deleteOnStateChangeCallback"><span class="type-signature"></span>deleteOnStateChangeCallback<span class="signature">()</span><span class="type-signature"></span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Delete the registered <a href="client.Plugin.html#~onStateChangeCallback">client.Plugin~onStateChangeCallback</a>.</p></li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="client_Plugin.js.html">client/Plugin.js</a>, <a href="client_Plugin.js.html#line10">line 10</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






























            
                

    

    <h4 class="name" id="~onStateChangeCallback"><span class="type-signature"></span>onStateChangeCallback<span class="signature">(state)</span><span class="type-signature"></span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Callback executed when the plugin state is updated.</p></li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="client_Plugin.js.html">client/Plugin.js</a>, <a href="client_Plugin.js.html#line3">line 3</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>state</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="client.Plugin.html#state">client.Plugin#state</a></span>



            
            </td>

            

            

            <td class="description last"><p>Current state of the plugin.</p></td>
        </tr>

    
    </tbody>
</table>



















            
    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.2</a> on Mon Aug 14 2023 14:53:56 GMT+0000 (Coordinated Universal Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>



    <link type="text/css" rel="stylesheet" href="assets/custom.css">
    
</body>
</html>